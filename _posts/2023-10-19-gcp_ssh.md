---
title: spring mircoservices
date: 2023-10-19 00:00 +09:00
categories: ["springboot", "msa"]
tags: 
- "kubernetes"
- "gcp"
image:
    path: ts.jpg
    alt: ""
---

# 목표

- GKE 에서 등록한 서비스에 도메인을 연결하고, HTTPS 통신이 가능하도록 하는 것
- 백엔드에서 보내는 쿠키를 프론트엔드 서버(크롬 브라우저) 가 받을 수 있도록 하는 것

## 상황인식
- Ingress 서비스에 https, ssl 등 설정이 필요


## 문제인식

<script src="https://gist.github.com/valorjj/37eeec84c04d5f29323e9da5c2e5b7c6.js"></script>

현재 클라우드 게이트웨이 역할을 하는 서비스가 `LoadBalancer` 로 등록되어 있다. 
- `External-IP` 가 등록되며 외부에서 접근할 수 있다. 

하지만 ***SSH 등록 및 HTTPS 통신***을 위해서는 `Ingress 서비스`가 필요하다.

## 문제 해결과정 기록








## 참고자료

- [Google 관리 SSL 인증서 사용](https://cloud.google.com/kubernetes-engine/docs/how-to/managed-certs?hl=ko#gcloud)
- [참고1](https://stackoverflow.com/questions/63324514/how-to-set-https-as-default-on-gke-ingress-gce)
- [참고2](https://cloud.google.com/kubernetes-engine/docs/concepts/ingress-xlb?hl=ko#setting_up_https_tls_between_client_and_load_balancer)
